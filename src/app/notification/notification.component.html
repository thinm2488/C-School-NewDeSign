<div class="main-content">
  <div class="container-fluid">
    <div class="row">
        <div class="col-md-12">
            <div  class="card">
              <div class="card-header card-header-danger">
                <h4 class="card-title">Thông Báo</h4>
                <p class="card-category">Tạo Thông Báo</p>
              </div>
              <div class="card-body">
                <form [formGroup]="notiForm" novalidate>
                  <div class="row">
    
                    <div class="col-md-12">
    
                      <mat-form-field class="example-full-width">
                        <input formControlName="chuDe"  placeholder="Chủ Đề" value="" matInput #chuDe>
                      </mat-form-field>
                    </div>
    
                  </div>
                  <div class="row">
                    <div class="col-md-12">
                      <mat-form-field class="example-full-width">
                        <textarea placeholder="Nội Dung" row='5' value="" matInput formControlName="noiDung"#noiDung
                         ></textarea> 
                      </mat-form-field>
                    </div>
    
                  </div>
    
              
                  <button mat-raised-button type="submit" class="btn btn-danger pull-right"  [disabled]="notiForm.pristine || notiForm.invalid"(click)=create(chuDe.value,noiDung.value) >Tạo</button>
               
                  <div class="clearfix"></div>
    
                </form>
              </div>
            </div>
           
          </div>
    </div>
    <div   class="row">
        <div  *ngIf="checktao" class="col-md-12">
            <div class="card">
              <div class="card-header card-header-danger">
                <div class="row">
                  <div class="col-md-6">
                    <h4 class="card-title ">Thông Báo</h4>
                    <p class="card-category">Danh Sách thông Báo</p>
                  </div>
                  <div class="col-md-6">
    
                    <div class="row">
                      <div class="col-md-3" style="padding: unset">
                        <i style="margin-top:10px; float: right;" _ngcontent-biw-c3="" class="material-icons">search</i>
                      </div>
                      <div class="col-md-9" style="padding-left:unset">
                        <input class="material-icons" style="color: white" class="form-control" type="text" name="search"
                          [(ngModel)]="searchText" autocomplete="off" placeholder=" search">
                      </div>
                    </div>
    
    
                  </div>
                </div>
    
              </div>
              <div class="card-body">
             
                <div class="table-responsive">
                  <table style="overflow-y: scroll" id="datatable" class="table">
                    <thead>
                      <tr>
    
                        <th>Ngày</th>
                        <th>Chủ Đề</th>
                        <th>Nội Dung</th>
                        <th></th>
                        <!-- <th>Tên Học Sinh</th>
                                  <th></th> -->
    
                      </tr>
                    </thead>
                    <tbody>
    
                      <tr *ngFor="let noti of listnoti |filter:searchText">
                        <td>{{noti.gioTao| date: 'dd/MM/yy'}}</td>
                        <td>{{noti.chuDe}}</td>
                        <td>{{noti.noiDung}}</td>
                        <td><button (click)='getobj(noti)' class="btn btn-warning"> <span
                              class="glyphicon glyphicon-pencil"></span>&ensp; Xem</button> </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
      <div  *ngIf="checksua"  class="col-md-7">
        <div class="card">
          <div class="card-header card-header-danger">
            <div class="row">
              <div class="col-md-6">
                <h4 class="card-title ">Thông Báo</h4>
                <p class="card-category">Danh Sách thông Báo</p>
              </div>
              <div class="col-md-6">

                <div class="row">
                  <div class="col-md-3" style="padding: unset">
                    <i style="margin-top:10px; float: right;" _ngcontent-biw-c3="" class="material-icons">search</i>
                  </div>
                  <div class="col-md-9" style="padding-left:unset">
                    <input class="material-icons" style="color: white" class="form-control" type="text" name="search"
                      [(ngModel)]="searchText" autocomplete="off" placeholder=" search">
                  </div>
                </div>


              </div>
            </div>

          </div>
          <div class="card-body">
         
            <div class="table-responsive">
              <table style="overflow-y: scroll" id="datatable" class="table">
                <thead>
                  <tr>

                    <th>Ngày</th>
                    <th>Chủ Đề</th>
                    <th>Nội Dung</th>
                    <th></th>
                    <!-- <th>Tên Học Sinh</th>
                              <th></th> -->

                  </tr>
                </thead>
                <tbody>

                  <tr *ngFor="let noti of listnoti |filter:searchText">
                    <td>{{noti.gioTao| date: 'dd/MM/yy'}}</td>
                    <td>{{noti.chuDe}}</td>
                    <td>{{noti.noiDung}}</td>
                    <td><button (click)='getobj(noti)' class="btn btn-warning"> <span
                          class="glyphicon glyphicon-pencil"></span>&ensp; xem</button> </td>
                   
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="checksua" class="col-md-5">
        <div class="card">
          <div class="card-header card-header-danger">
            <h4 class="card-title">Nội Dung</h4>
            <p class="card-category">Chỉnh Sửa</p>
          </div>
          <div class="card-body">
        
              <div class="row">

                <div class="col-md-12">

                  <mat-form-field class="example-full-width">
                    <input [(ngModel)]="Noti.chuDe" placeholder="Chủ Đề" matInput #chuDe>
                  </mat-form-field>
                </div>

              </div>
              <div class="row">
                <div class="col-md-12">
                  <mat-form-field class="example-full-width">
                    <textarea rows="5" [(ngModel)]="Noti.noiDung" placeholder="Nội Dung" matInput
                     ></textarea>
                  </mat-form-field>
                </div>

              </div>

          
              <button mat-raised-button type="submit" class="btn btn-danger pull-right" (click)="openModal(template)">Xóa</button>
        
             
              <div class="clearfix"></div>

     
          </div>
        </div>
       
      </div>
    </div>
  </div>
</div>
<ng-template #template>
    <div class="modal-header">
      <h4 class="modal-title pull-left">Xác thực yêu cầu</h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <h5>Bạn chắc chắn muốn xóa thông báo này??</h5>
    </div>
    <div style="float: right;margin-right: 20px;margin-bottom: 10px" class="row">
        <div class="col-md-6"></div>
        <div  class="col-md-3"><button (click)="Xoa()"style="font-size: 12px; width:108px;height: 40px;border-radius: 10px" class="btn btn-danger">Xóa</button></div>
        <div  class="col-md-3" (click)="close()"><button style="font-size: 12px; width:108px;height: 40px;border-radius: 10px" class="btn btn-warning">Trở lại</button></div>
    </div>
  </ng-template>